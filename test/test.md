K 最近在学古诗文。古诗文的行文不一定按照现代人的习惯，有时是因为古诗文有其特殊的语法结构，有时是因为对仗工整、韵律和谐等主观原因。但是，如果直接在原文旁边标注一个表示正确阅读顺序的排列，不仅在排版上不美观，而且寻找下一个编号也比较麻烦。为了方便阅读，K 设计了一套辅助记号来标注顺序，替代直接标注顺序编号的方式。

辅助记号一共有 3 种：**近邻逆接记号**、**近邻顺接记号**、**遥远跳转记号**。两种近邻记号定义了相邻两个字符之间相对的阅读顺序，故其必须出现在相邻两个字符之间，而不能出现在句首或句末；遥远跳转记号在单独使用时仅作用于其前一个字符，故其必须出现在单个字符之后，可以出现在句末而不能出现在句首。

### 1. 近邻逆接记号

**近邻逆接记号 `*`** 表示，在正常阅读顺序中，该记号前的最后一个字符应该紧跟在该记号后的第一个字符之后。  

例如：  
- “研表*究明，汉字序*顺并不定*一影阅*响读”  
  正确语序为：“研究表明，汉字顺序并不一定影响阅读”。  

**近邻逆接记号可以连续使用**，表示对应的一整段文字应从后往前逐个阅读：  
- “林暗草惊风，将军夜引弓”  
  可标注为：“林暗草*惊*风”，语序为“林暗风惊草，将军夜引弓”。

---

### 2. 遥远跳转记号

对于较复杂的阅读顺序，使用 **遥远跳转记号**。例如：  
- “马之千里者，一食或尽粟一石”  
  其中“粟一石”表示“一石粟”。  
  标注为：“一食或尽粟1-2一石1-1”。

#### 规则  
1. **层数 `p`** 表示嵌套层级。  
2. **顺序 `q`** 从后往前依次编号（如 `1-2`, `1-1`）。  
3. **序号降序出现**：例如，`p-2 p-1` 是正确的，但不能出现 `p-2 p-3 p-1`。

**示例**：  
- “然后知生于忧患而死于安乐也”  
  正确语序为“然后知于忧患生而于安乐死也”，标注为：  
  `然后知生1-2于忧患1-1而死1-2于安乐1-1也`。

---

### 3. 近邻顺接记号

**近邻顺接记号 `#`** 表示，记号后的字符应该紧跟在记号前的最后一个字符之后。  
**近邻顺接记号必须和序号 `q ≥ 2` 的遥远跳转记号连用**。  

**示例**：  
- “严霜结庭兰”  
  正确语序为：“庭兰严霜结”，标注为：  
  `严1-3#霜结1-2庭兰1-1`。

对于需要将多个连续字符的阅读顺序推后，可以连续使用多个近邻顺接记号：  
- “七八个星天外，两三点雨山前”  
  正确语序为“天外七八个星，山前两三点雨”，标注为：  
  `七1-2#八#个#星天外1-1，两1-2#三#点#雨山前1-1`。

---

### 阅读规则

1. **默认从前往后阅读**，遇到辅助记号时按规则处理：  
   - 没有辅助记号且前一字符未标注近邻顺接记号，则直接阅读该字符。  
   - 否则，先忽略该字符，直到遇到标注有 `q = 1` 的遥远跳转记号或无辅助记号的字符。  

2. **规则约束**：  
   - 相邻两个字符之间，要么无记号，要么使用单一记号或组合：  
     - 例如：`近邻逆接记号`、`遥远跳转记号 + 近邻顺接/逆接记号`。  
   - **不允许混合使用**：  
     - 例如：不能出现 `.*.#.` 或 `.#.*.` 的情况。  
   - **遥远跳转记号和近邻记号的顺序**：  
     - 遥远跳转记号必须标在近邻记号之前。

---

### 限制与无法标记的情况

虽然该系统可以处理大部分的阅读顺序标注，但并不能覆盖所有情况。  
例如：  
- “绿垂风折笋，红绽雨肥梅”  
  正确语序为“风折绿笋垂，雨肥红梅绽”，该系统无法用三种记号表示。

K 想知道，对于给定的一个阅读顺序，是否存在一种仅使用上述三种记号的标注方法。如果存在，请求出满足要求的唯一标注方法。
